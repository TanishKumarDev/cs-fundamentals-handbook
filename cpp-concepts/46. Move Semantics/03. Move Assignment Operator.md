# **Move Assignment Operator in C++11**

**Definition:**
The **move assignment operator** allows an object to **take ownership of resources** from another object **without copying** them, improving performance and memory usage.

---

## **Basic Example with STL**

```cpp
#include <iostream>
#include <vector>
#include <utility> // for std::move

int main() {
    std::vector<int> a = {1, 2, 3, 4};
    std::vector<int> b;

    // Move assignment
    b = std::move(a);  

    std::cout << "a.size() = " << a.size() << "\n"; // a is now empty
    std::cout << "b.size() = " << b.size() << "\n"; // b has the data
}
```

**Output:**

```
a.size() = 0
b.size() = 4
```

---

## **User-Defined Move Assignment Operator**

* We can define our own move assignment operator for **custom classes**.

### **Example:**

```cpp
#include <iostream>
#include <cstring>
using namespace std;

class MyString {
    char* data;

public:
    // Constructor
    MyString(const char* str = "") {
        data = new char[strlen(str) + 1];
        strcpy(data, str);
    }

    // Move assignment operator
    MyString& operator=(MyString&& other) {
        cout << "Move assignment called\n";
        if (this != &other) {
            delete[] data;        // Free old memory
            data = other.data;    // Steal resource
            other.data = nullptr; // Source becomes empty
        }
        return *this;
    }

    // Destructor
    ~MyString() {
        delete[] data;
    }

    void print() const {
        if(data) cout << data << "\n";
        else cout << "[empty]\n";
    }
};

int main() {
    MyString a("Hello");
    MyString b("World");

    b = std::move(a);  // Move assignment

    b.print(); // Hello
    a.print(); // [empty]
}
```

**Output:**

```
Move assignment called
Hello
[empty]
```

---

## **Why Move Assignment Operator is Needed**

1. **Improves performance:** Transfers resources instead of copying â†’ much faster for large objects.
2. **Reduces memory usage:** Avoids creating unnecessary duplicates in memory.
3. **Efficient handling of temporaries:** Objects can take ownership of temporary data without expensive deep copies.

---