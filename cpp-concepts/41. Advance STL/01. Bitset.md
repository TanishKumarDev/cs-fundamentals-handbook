

# **C++ Bitset**

**Definition:**
`std::bitset` is a **fixed-size sequence of bits**. It allows **efficient manipulation of individual bits**, making it extremely useful in **bitwise operations, flags, masks, and memory-efficient boolean storage**.

**Header File:**

```cpp
#include <bitset>
```

**Syntax:**

```cpp
bitset<n> name;  // n = number of bits
```

* `n` must be a **compile-time constant**.
* Default: all bits are 0.
* Can be initialized using integer values or binary strings.

---

## **1. Initialization**

```cpp
#include <iostream>
#include <bitset>
using namespace std;

int main() {
    bitset<5> b1(18);      // Decimal 18 -> 10010
    bitset<5> b2("10010"); // Binary string initialization

    cout << b1 << "\n"; // 10010
    cout << b2 << "\n"; // 10010
}
```

**Logic:** Bitset stores each bit compactly. Binary strings allow direct representation.

---

## **2. Accessing Bits**

* Use `[]` operator or `.test()` function.
* Indexing is **0-based from the rightmost bit**.

```cpp
bitset<5> b(18); // 10010
cout << b[2] << "\n";       // 3rd bit -> 0
cout << b.test(4) << "\n";  // 5th bit -> 1
```

---

## **3. Modifying Bits**

* `set(pos)` → set bit to 1
* `reset(pos)` → set bit to 0
* `flip(pos)` → invert bit
* `flip()` → invert all bits

```cpp
bitset<5> b(18); // 10010

b.set(0);    // 10011
b.reset(1);  // 10001
b.flip(4);   // 00001

cout << b << endl;
```

---

## **4. Bitset Operators**

| Operator | Function    | Example           |            |     |
| -------- | ----------- | ----------------- | ---------- | --- |
| `&`      | AND         | `b1 & b2`         |            |     |
| `        | `           | OR                | `b1        | b2` |
| `^`      | XOR         | `b1 ^ b2`         |            |     |
| `~`      | NOT         | `~b1`             |            |     |
| `<<=`    | Left shift  | `b1 <<= 2`        |            |     |
| `>>=`    | Right shift | `b1 >>= 1`        |            |     |
| `&=`, `  | =`, `^=`    | Assign operations | `b1 &= b2` |     |

```cpp
bitset<5> b1(18); // 10010
bitset<5> b2(5);  // 00101

cout << (b1 & b2) << endl; // 00000
cout << (b1 | b2) << endl; // 10111
cout << (b1 ^ b2) << endl; // 10111
```

---

## **5. Bitset Functions**

| Function       | Purpose                   |
| -------------- | ------------------------- |
| `.count()`     | Returns number of 1s      |
| `.size()`      | Returns number of bits    |
| `.any()`       | True if any bit is 1      |
| `.none()`      | True if all bits are 0    |
| `.to_string()` | Converts bitset to string |

```cpp
bitset<5> b(19); // 10011
cout << b.count() << endl;      // 3
cout << b.any() << endl;        // 1 (true)
cout << b.none() << endl;       // 0 (false)
cout << b.to_string() << endl;  // "10011"
```

---

## **6. Use Cases**

1. **Flags / Bitmasking:**
   Represent multiple boolean flags in a memory-efficient way.

```cpp
bitset<8> permissions;
permissions.set(0); // read
permissions.set(2); // execute
```

2. **Subsets / Combinatorics:**
   Efficiently iterate all subsets using bitmask.

```cpp
int n = 3; // {a,b,c}
for(int mask=0; mask<(1<<n); mask++){
    bitset<3> bs(mask);
    cout << bs << endl;
}
```

3. **Competitive Programming / Performance:**

   * Fast AND, OR, XOR operations.
   * Efficient counting of set bits with `.count()`.
   * Memory-efficient compared to `vector<bool>` or `bool array`.

4. **Binary Representation / Serialization:**
   Store or transmit binary patterns compactly.

---

## **7. Bitset vs Vector<bool> vs bool Array**

| Parameter  | `bitset`      | `vector<bool>`  | `bool array`   |
| ---------- | ------------- | --------------- | -------------- |
| Size       | Fixed         | Dynamic         | Fixed          |
| Memory     | 1 bit/element | 1 bit/element   | 1 byte/element |
| Speed      | Fast          | Fast            | Fastest        |
| Operations | Bitwise ops   | Limited bitwise | Manual loops   |

**Key Insight:** `bitset` is **best when size is known** and **bitwise operations** are needed. Use `vector<bool>` for dynamic size.

---

## **8. Advanced Applications**

* **Sieve of Eratosthenes:** Using bitset to mark prime numbers efficiently.
* **Graph Representation:** Adjacency bitset for dense graphs.
* **Dynamic Programming:** States compression using bits.
* **Cryptography / Hashing:** Compact storage and manipulation of binary strings.

---

## **9. Example: Bitmask Subset Generation**

```cpp
#include <iostream>
#include <bitset>
using namespace std;

int main() {
    int n = 3;
    string arr[3] = {"A", "B", "C"};

    for(int mask=0; mask<(1<<n); mask++){
        bitset<3> bs(mask);
        cout << bs << ": ";
        for(int i=0; i<n; i++){
            if(bs[i]) cout << arr[i] << " ";
        }
        cout << endl;
    }
}
```

**Output:**

```
000: 
001: A 
010: B 
011: A B 
100: C 
101: A C 
110: B C 
111: A B C 
```

**Logic:** Each bit represents presence (1) or absence (0) of an element.

---
