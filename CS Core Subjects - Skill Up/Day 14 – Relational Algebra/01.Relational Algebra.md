# Day 14 – Relational Algebra

## 1. Introduction

![](https://media.geeksforgeeks.org/wp-content/uploads/20250729112007769213/extended_relational_algebra.webp)

* **Relational Model:** A way of structuring data using **relations** (tables).
* **Relation:** A collection of **tuples** (rows) with the same attributes (columns).
* **Relational Algebra (RA):** A **procedural query language** used to perform operations on relations.
* RA takes **relations as input** and produces **relations as output**.
* Useful for **querying and manipulating data** in relational databases.

We will use the following tables for examples:

**Table: STUDENT_SPORTS**

| ROLL_NO | SPORTS    |
| ------- | --------- |
| 1       | Badminton |
| 2       | Cricket   |
| 2       | Badminton |
| 4       | Badminton |

**Table: EMPLOYEE**

| EMP_NO | NAME   | ADDRESS | PHONE      | AGE |
| ------ | ------ | ------- | ---------- | --- |
| 1      | RAM    | DELHI   | 9455123451 | 18  |
| 5      | NARESH | HISAR   | 9782918192 | 22  |
| 6      | SWETA  | RANCHI  | 9852617621 | 21  |
| 4      | SURESH | DELHI   | 9156768971 | 18  |

**Table: STUDENT**

| ROLL_NO | NAME   | ADDRESS | PHONE      | AGE |
| ------- | ------ | ------- | ---------- | --- |
| 1       | RAM    | DELHI   | 9455123451 | 18  |
| 2       | RAMESH | GURGAON | 9652431543 | 18  |
| 3       | SUJIT  | ROHTAK  | 9156253131 | 20  |
| 4       | SURESH | DELHI   | 9156768971 | 18  |

---

## 2. Basic Operators in Relational Algebra

### 2.1 Selection Operator (σ)

* **Purpose:** Select **tuples (rows)** from a relation that satisfy a **condition**.
* **Syntax:**
  `σ (Condition) (Relation)`

**Example:** Extract students whose age > 18:

`σ (AGE>18) (STUDENT)`

* **Note:** Selection alone does not project results. To display specific columns, combine with **projection**:

`∏(σ(AGE>18) (STUDENT))`

**Result:**

| ROLL_NO | NAME  | ADDRESS | PHONE      | AGE |
| ------- | ----- | ------- | ---------- | --- |
| 3       | SUJIT | ROHTAK  | 9156253131 | 20  |

---

### 2.2 Projection Operator (∏)

* **Purpose:** Select **specific columns** from a relation.
* **Syntax:**
  `∏(Column1, Column2, …) (Relation)`

**Example:** Extract ROLL_NO and NAME from STUDENT:

`∏(ROLL_NO, NAME) (STUDENT)`

**Result:**

| ROLL_NO | NAME   |
| ------- | ------ |
| 1       | RAM    |
| 2       | RAMESH |
| 3       | SUJIT  |
| 4       | SURESH |

* **Note:** Duplicate rows are **removed automatically**.
  Example: `∏(ADDRESS) (STUDENT)` will remove duplicates of `DELHI`.

---

### 2.3 Cross Product (X)

* **Purpose:** Combine **every row of Relation1** with **every row of Relation2**.
* **Result:** `m x n` tuples if Relation1 has `m` tuples and Relation2 has `n` tuples.
* **Syntax:**
  `Relation1 X Relation2`

**Example:** Cross product of STUDENT and STUDENT_SPORTS:

`STUDENT X STUDENT_SPORTS`

**Result:** (first few rows)

| ROLL_NO | NAME | ADDRESS | PHONE      | AGE | ROLL_NO | SPORTS    |
| ------- | ---- | ------- | ---------- | --- | ------- | --------- |
| 1       | RAM  | DELHI   | 9455123451 | 18  | 1       | Badminton |
| 1       | RAM  | DELHI   | 9455123451 | 18  | 2       | Cricket   |
| 1       | RAM  | DELHI   | 9455123451 | 18  | 2       | Badminton |
| 1       | RAM  | DELHI   | 9455123451 | 18  | 4       | Badminton |

---

### 2.4 Union (U)

* **Purpose:** Combine tuples from two **union-compatible relations** (same attributes and domains).
* **Syntax:**
  `Relation1 U Relation2`

**Example:** Persons who are either students or employees:

`STUDENT U EMPLOYEE`

**Result:**

| ROLL_NO | NAME   | ADDRESS | PHONE      | AGE |
| ------- | ------ | ------- | ---------- | --- |
| 1       | RAM    | DELHI   | 9455123451 | 18  |
| 2       | RAMESH | GURGAON | 9652431543 | 18  |
| 3       | SUJIT  | ROHTAK  | 9156253131 | 20  |
| 4       | SURESH | DELHI   | 9156768971 | 18  |
| 5       | NARESH | HISAR   | 9782918192 | 22  |
| 6       | SWETA  | RANCHI  | 9852617621 | 21  |

---

### 2.5 Minus / Set Difference (-)

* **Purpose:** Get tuples **in Relation1 but not in Relation2** (relations must be union-compatible).
* **Syntax:**
  `Relation1 - Relation2`

**Example:** Students who are **not employees**:

`STUDENT - EMPLOYEE`

**Result:**

| ROLL_NO | NAME   | ADDRESS | PHONE      | AGE |
| ------- | ------ | ------- | ---------- | --- |
| 2       | RAMESH | GURGAON | 9652431543 | 18  |
| 3       | SUJIT  | ROHTAK  | 9156253131 | 20  |

---

### 2.6 Rename (ρ)

* **Purpose:** Rename a **relation or its attributes** for clarity or further operations.
* **Syntax:**
  `ρ(new_relation_name, original_relation)`

**Example:** Rename STUDENT to STUDENT1:

`ρ(STUDENT1, STUDENT)`

* You can also combine with projection:

`ρ(STUDENT_NAMES, ∏(ROLL_NO, NAME)(STUDENT))`
This creates a relation STUDENT_NAMES with only ROLL_NO and NAME.

---

## 3. Extended Relational Algebra Operators

1. **Intersection (∩):** Tuples common in both relations
2. **Division (÷):** Find tuples related to all tuples in another relation
3. **Join (⋈):** Combine related tuples based on a condition

   * **Natural Join:** Automatically joins on common attributes
   * **Theta Join:** Joins based on a condition (θ)
   * **Equi Join:** Special case of theta join where condition is equality

---

## 4. Key Notes

* Relational Algebra is **procedural**, not declarative (like SQL).
* Order of operations matters (e.g., selection before projection).
* **Union, Minus** require **union-compatibility**.
* Cross product can generate **large intermediate tables**, so often combined with **selection** to filter results.
* Rename operator helps when **combining multiple operations** or avoiding attribute name conflicts.

