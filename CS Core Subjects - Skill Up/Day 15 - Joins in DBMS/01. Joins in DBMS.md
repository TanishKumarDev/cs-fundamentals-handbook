# Day 15 – Joins in DBMS

---

## **1. Introduction to Joins**

### **What is a Join?**

A **Join** in DBMS is an operation that combines data (rows) from **two or more tables** based on a related column between them.
It allows us to retrieve **connected or meaningful information** from multiple tables in a relational database.

**Example need:**
Suppose we have a `student` table and a `student_course` table.
If we want to see which student is enrolled in which course — we need a **join**.

### **Why Do We Need Joins?**

* In normalized databases, data is stored across multiple tables to **reduce redundancy**.
* But real queries often need **combined information** — joins help bring related data together.
* It allows **multi-table queries** efficiently.

**Problem Solved by Joins:**
Without joins, you would need to write multiple queries or use complex logic in code to merge data.
With joins, the database itself efficiently merges related rows using **keys** (primary & foreign).

---

## **2. Join Syntax (Relational Algebra)**

```
R3 ← R1 ⨝<join_condition> R2
```

* **R1, R2:** Relations (tables) being joined
* **⨝:** Join operator
* **R3:** Resultant relation
* **join_condition:** The condition defining how rows relate (e.g., `R1.roll = R2.roll`)

**Example:**

```
Temp ← student ⨝ (student.roll = exam.roll) exam
```

This joins the `student` and `exam` tables where their roll numbers match.

---

## **3. Example**

### **Table 1: Student**

| ROLL_NO | NAME     | ADDRESS  | PHONE      | AGE |
| ------- | -------- | -------- | ---------- | --- |
| 1       | Harsh    | Delhi    | xxxxxxxxxx | 18  |
| 2       | Pratik   | Bihar    | xxxxxxxxxx | 19  |
| 3       | Priyanka | Siliguri | xxxxxxxxxx | 20  |
| 4       | Deep     | Ramnagar | xxxxxxxxxx | 18  |
| 5       | Saptarhi | Kolkata  | xxxxxxxxxx | 19  |

### **Table 2: Student_Course**

| ROLL_NO | COURSE_ID |
| ------- | --------- |
| 1       | 1         |
| 2       | 2         |
| 3       | 2         |
| 4       | 3         |
| 5       | 1         |

**Join Operation:**

```
Student ⨝ Student_Course
```

**Output:**

| ROLL_NO | NAME     | ADDRESS  | PHONE      | AGE | COURSE_ID |
| ------- | -------- | -------- | ---------- | --- | --------- |
| 1       | Harsh    | Delhi    | xxxxxxxxxx | 18  | 1         |
| 2       | Pratik   | Bihar    | xxxxxxxxxx | 19  | 2         |
| 3       | Priyanka | Siliguri | xxxxxxxxxx | 20  | 2         |
| 4       | Deep     | Ramnagar | xxxxxxxxxx | 18  | 3         |
| 5       | Saptarhi | Kolkata  | xxxxxxxxxx | 19  | 1         |

---

## **4. Types of Joins**

Joins are categorized mainly as:

1. **Inner Join**
2. **Outer Join**

   * Left Outer Join
   * Right Outer Join
   * Full Outer Join

---

## **5. Inner Join**

![](https://media.geeksforgeeks.org/wp-content/uploads/20240528163448/6a0120a85dcdae970b012877702708970c-pi.png)

### **What it does**

Returns **only the rows** that have **matching values** in both tables.

### **Why**

Used when we only need records present in both datasets — **intersection** of two tables.

### **Types of Inner Joins**

1. Conditional Join (Theta Join)
2. Equi Join
3. Natural Join

---

### **(a) Conditional (Theta) Join**

#### **Definition**

A conditional join combines tables based on a **specific condition** (not just equality).
The condition may include operators like `<, >, <=, >=, ≠, =`.

#### **Example**

**Table A**

| R  | S  |
| -- | -- |
| 10 | 5  |
| 7  | 20 |

**Table B**

| T  | U  |
| -- | -- |
| 10 | 12 |
| 17 | 6  |

**Join:**

```
A ⨝ (S < T) B
```

**Output:**

| R  | S | T  | U  |
| -- | - | -- | -- |
| 10 | 5 | 10 | 12 |
| 10 | 5 | 17 | 6  |

**Explanation:**
Rows are joined only when `S < T` holds true.

---

### **(b) Equi Join**

#### **Definition**

A type of inner join where the **join condition uses equality (`=`)** between matching columns.

#### **Example**

**Table A**

| ColumnA | ColumnB |
| ------- | ------- |
| a       | a       |
| a       | b       |

**Table C**

| ColumnA | ColumnB |
| ------- | ------- |
| a       | a       |
| a       | c       |

**Join:**

```
A ⨝ (A.ColumnB = C.ColumnB) C
```

**Output:**

| ColumnA | ColumnB |
| ------- | ------- |
| a       | a       |

**Explanation:**
Only records with matching values (`a`) in `ColumnB` are returned.

---

### **(c) Natural Join**

#### **Definition**

A **natural join** automatically matches and merges tables based on **columns with the same name and domain**.
No condition is written explicitly.

#### **Example**

**Table A**

| Number | Square |
| ------ | ------ |
| 2      | 4      |
| 3      | 9      |

**Table B**

| Number | Cube |
| ------ | ---- |
| 2      | 8    |
| 3      | 27   |

**Join:**

```
A ⨝ B
```

**Output:**

| Number | Square | Cube |
| ------ | ------ | ---- |
| 2      | 4      | 8    |
| 3      | 9      | 27   |

**Explanation:**
Automatically matches on “Number” column and merges other columns.

---

## **6. Outer Joins**

![](https://media.geeksforgeeks.org/wp-content/uploads/20240528163604/join.jpg)

### **What it does**

Unlike inner joins, outer joins return **all matching rows** plus **non-matching rows** from one or both tables, filling missing data with `NULL`.

---

### **(a) Left Outer Join**

#### **Definition**

Returns **all rows from the left table**, and matching rows from the right.
If there is no match, right table columns show **NULL**.

#### **Example**

**Table A**

| Number | Square |
| ------ | ------ |
| 2      | 4      |
| 3      | 9      |
| 4      | 16     |

**Table B**

| Number | Cube |
| ------ | ---- |
| 2      | 8    |
| 3      | 27   |
| 5      | 125  |

**Join:**

```
A ⟕ B
```

**Output:**

| Number | Square | Cube |
| ------ | ------ | ---- |
| 2      | 4      | 8    |
| 3      | 9      | 27   |
| 4      | 16     | NULL |

**Explanation:**
Number 4 has no cube in Table B → Cube = NULL.

---

### **(b) Right Outer Join**

#### **Definition**

Returns **all rows from the right table**, and matching rows from the left.
If no match exists in the left table → left columns = **NULL**.

**Join:**

```
A ⟖ B
```

**Output:**

| Number | Square | Cube |
| ------ | ------ | ---- |
| 2      | 4      | 8    |
| 3      | 9      | 27   |
| 5      | NULL   | 125  |

**Explanation:**
Number 5 exists in Table B but not in A, so Square = NULL.

---

### **(c) Full Outer Join**

#### **Definition**

Combines the results of **Left Join + Right Join**.
Returns all rows from both tables; if there’s no match, missing values are filled with **NULL**.

**Join:**

```
A ⟗ B
```

**Output:**

| Number | Square | Cube |
| ------ | ------ | ---- |
| 2      | 4      | 8    |
| 3      | 9      | 27   |
| 4      | 16     | NULL |
| 5      | NULL   | 125  |

**Explanation:**
All rows from both tables appear.
Number 4 missing in B → Cube NULL
Number 5 missing in A → Square NULL

---

## **7. Summary: When to Use Which Join**

| Join Type        | Use Case                                        |
| ---------------- | ----------------------------------------------- |
| Inner Join       | Only need matching records from both tables     |
| Conditional Join | Need to join based on a specific condition      |
| Equi Join        | Join using equality condition                   |
| Natural Join     | Join on same-named columns automatically        |
| Left Join        | Keep all left table records, even if unmatched  |
| Right Join       | Keep all right table records, even if unmatched |
| Full Join        | Keep all records from both tables               |

---

## **8. Key Takeaways**

* **Joins help combine data logically** spread across multiple tables.
* **Inner joins** focus on intersections; **outer joins** preserve unmatched data.
* Always define join conditions properly to avoid **Cartesian products** (unintended row combinations).
* Use **foreign key-primary key relationships** for reliable joins.
* Choosing the right join improves **query performance and clarity**.
