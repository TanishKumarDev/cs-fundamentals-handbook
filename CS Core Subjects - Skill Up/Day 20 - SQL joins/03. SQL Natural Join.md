# **Day 20 - SQL Joins**

## SQL Natural Join

### **1. Purpose**

A Natural Join is used to:

* Automatically join two tables based on all columns with the same name and compatible data types.
* Avoid duplicate columns in the result.
* Simplify queries when tables share common column names.

> **Note:** Unlike other joins, you **donâ€™t need to specify a join condition**; SQL identifies common columns automatically.

---

### **2. Syntax**

```sql
SELECT *
FROM table1
NATURAL JOIN table2;
```

* `table1`, `table2`: tables to join
* The join happens on all columns with the same name and compatible data types.

---

### **3. Example: Employees and Departments**

**Step 1: Create Database**

```sql
CREATE DATABASE geeks;
USE geeks;
```

**Step 2: Create Tables**

```sql
CREATE TABLE department (
   DEPT_NAME VARCHAR(20),
   MANAGER_NAME VARCHAR(255)
);

CREATE TABLE employee (
   EMP_ID INT,
   EMP_NAME VARCHAR(20),
   DEPT_NAME VARCHAR(255)
);
```

**Step 3: Insert Sample Data**

```sql
INSERT INTO department (DEPT_NAME, MANAGER_NAME) VALUES  
    ('IT', 'ROHAN'),  
    ('SALES', 'RAHUL'),  
    ('HR', 'TANMAY'),  
    ('FINANCE', 'ASHISH'),  
    ('MARKETING', 'SAMAY');

INSERT INTO employee (EMP_ID, EMP_NAME, DEPT_NAME) VALUES  
    (1, 'SUMIT', 'HR'),  
    (2, 'JOEL', 'IT'),  
    (3, 'BISWA', 'MARKETING'),  
    (4, 'VAIBHAV', 'IT'),  
    (5, 'SAGAR', 'SALES');
```

**Step 4: Verify Data**

```sql
SELECT * FROM employee;
SELECT * FROM department;
```

---

### **4. Perform Natural Join**

```sql
SELECT *
FROM employee
NATURAL JOIN department;
```

**Output**

| EMP_ID | EMP_NAME | DEPT_NAME | MANAGER_NAME |
| ------ | -------- | --------- | ------------ |
| 1      | SUMIT    | HR        | TANMAY       |
| 2      | JOEL     | IT        | ROHAN        |
| 3      | BISWA    | MARKETING | SAMAY        |
| 4      | VAIBHAV  | IT        | ROHAN        |
| 5      | SAGAR    | SALES     | RAHUL        |

> The `DEPT_NAME` column appears only once because Natural Join merges common columns automatically.

---

### **5. Difference Between Natural Join and Inner Join**

| Feature            | Natural Join                         | Inner Join                                 |
| ------------------ | ------------------------------------ | ------------------------------------------ |
| Join Condition     | Automatic (columns with same name)   | Explicit `ON` clause required              |
| Common Columns     | Only one copy in result              | Both copies included, may duplicate names  |
| Syntax Simplicity  | Shorter, simpler                     | More flexible, more control                |
| Control Over Logic | Less control                         | Full control over join conditions          |
| Use Case           | Quick join when common columns exist | Specific columns or different column names |

---

### **6. Practice File Snippet (`day22_sql_naturaljoin.sql`)**

```sql
-- 1. Create Tables
CREATE TABLE department (
   DEPT_NAME VARCHAR(20),
   MANAGER_NAME VARCHAR(255)
);

CREATE TABLE employee (
   EMP_ID INT,
   EMP_NAME VARCHAR(20),
   DEPT_NAME VARCHAR(255)
);

-- 2. Insert Sample Data
INSERT INTO department (DEPT_NAME, MANAGER_NAME) VALUES  
    ('IT', 'ROHAN'),  
    ('SALES', 'RAHUL'),  
    ('HR', 'TANMAY'),  
    ('FINANCE', 'ASHISH'),  
    ('MARKETING', 'SAMAY');

INSERT INTO employee (EMP_ID, EMP_NAME, DEPT_NAME) VALUES  
    (1, 'SUMIT', 'HR'),  
    (2, 'JOEL', 'IT'),  
    (3, 'BISWA', 'MARKETING'),  
    (4, 'VAIBHAV', 'IT'),  
    (5, 'SAGAR', 'SALES');

-- 3. Natural Join Query
SELECT *
FROM employee
NATURAL JOIN department;
```

---