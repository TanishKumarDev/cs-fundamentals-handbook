# **Day 12 â€” Boyce-Codd Normal Form (BCNF)**

### **Definition**

BCNF is an **advanced version of 3NF** that eliminates redundancy by ensuring **every determinant is a superkey**.

* **Determinant:** The left side of a functional dependency (FD) `X â†’ Y`.
* **Superkey:** A set of attributes that uniquely identifies a row in a table.

> Every relation in **BCNF is automatically in 3NF**, 2NF, and 1NF.

---

### **Rules for BCNF**

1. The table must be in **3NF**.
2. For **every non-trivial FD X â†’ Y**, **X must be a superkey**.

**Progression of Normal Forms:**

| NF   | Rule                                       |
| ---- | ------------------------------------------ |
| 1NF  | Each field must hold atomic values.        |
| 2NF  | No partial dependency on a primary key.    |
| 3NF  | No transitive dependency on a primary key. |
| BCNF | Every determinant is a superkey.           |

---

### **Why BCNF?**

* 3NF can still have anomalies if a determinant is not a superkey.
* BCNF ensures:

  * **No update, insert, or delete anomalies**.
  * **Better consistency** by removing hidden dependencies.
  * **Robust database design**.

---

### ðŸ“˜ **Example 1: Student-Teacher-Subject**

**Relation:** `(Student, Teacher, Subject)`
**FDs:**

* `(Student, Teacher) â†’ Subject`
* `(Student, Subject) â†’ Teacher`
* `(Teacher) â†’ Subject`

**Candidate Keys:** `(Student, Teacher)` and `(Student, Subject)`

**Issue:** `Teacher â†’ Subject` â†’ `Teacher` is not a key â†’ **violates BCNF**.

**Decomposition:**

1. `R1(Teacher, Subject)`
2. `R2(Student, Teacher)`

âœ… Now in BCNF.

---

### ðŸ“˜ **Example 2: Student-Course Decomposition**

Tables after BCNF decomposition:

1. **Stu_Branch** `(Stu_ID, Stu_Branch)` â€” key: `Stu_ID`
2. **Stu_Course** `(Stu_Course, Branch_Number, Stu_Course_No)` â€” key: `Stu_Course`
3. **Stu_Enroll** `(Stu_ID, Stu_Course_No)` â€” key: `{Stu_ID, Stu_Course_No}`

âœ… All functional dependencies now have determinants that are **superkeys** â†’ BCNF satisfied.

---

### ðŸ“˜ **Example 3: Highest Normal Form**

**Relation R(A, B, C, D, E)**
**FDs:** `{BC â†’ D, AC â†’ BE, B â†’ E}`

**Analysis:**

* Candidate key: `{AC}`
* Prime attributes: `{A, C}`, non-prime: `{B, D, E}`

**Result:**

* Satisfies 1NF & 2NF
* **Does NOT satisfy 3NF or BCNF** (some determinants are not superkeys)
* **Highest normal form = 2NF**

---

### **Notes**

* BCNF decomposition may **not always preserve dependencies**, but **lossless join is guaranteed**.
* Higher normal forms exist (4NF, 5NF) for more complex redundancy issues.
* Redundancy may still exist in BCNF in rare cases.
