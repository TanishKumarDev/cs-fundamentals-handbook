# **Day 10: Canonical Cover of Functional Dependencies (FDs) in DBMS**

---

## **1. Introduction**

* **Canonical Cover** (also called **minimal set of FDs** or **irreducible FDs**) is a simplified set of functional dependencies that is **equivalent** to the original set but **minimal in size**.
* It eliminates **redundant** or **extraneous attributes** without losing information.

**Key Concept:**

* An attribute in an FD is **extraneous** if it can be removed without affecting the **closure** of the FD set.

---

## **2. Steps to Find Canonical Cover**

### **Step 1: Combine FDs with the Same LHS**

* If multiple FDs have the same **left-hand side**, combine their RHS:

  **Example:**

  * `A → B` and `A → C` → combine → `A → BC`

---

### **Step 2: Eliminate Extraneous Attributes**

#### **Left-Hand Side (LHS)**

* For `X → Y`, check each attribute `A` in `X`:

  1. Remove `A` → form `X'`.
  2. Compute closure with `X' → Y`.
  3. If closure remains the same, `A` is **extraneous**.

#### **Right-Hand Side (RHS)**

* For `X → Y`, check each attribute `B` in `Y`:

  1. Remove `B` → form `Y'`.
  2. Compute closure with `X → Y'`.
  3. If closure remains the same, `B` is **extraneous**.

---

### **Step 3: Decompose FDs with Multiple RHS Attributes**

* Each FD should have **one attribute** on the RHS.

  **Example:**

  * `X → AB` → decompose → `X → A` and `X → B`

---

### **Step 4: Remove Redundant FDs**

* An FD is **redundant** if it can be derived from other FDs in the set.

  1. Temporarily remove FD.
  2. Compute closure of remaining set.
  3. If closure is unchanged → remove FD.

---

### **Step 5: Verify Final Canonical Cover**

* LHS has **no extraneous attributes**
* RHS has **only one attribute per FD**
* Closure of canonical cover = Closure of original FD set

---

## **3. Illustrative Examples**

### **Example 1**

* F = `{A → BC, B → C, AB → C}`

**Step 1:** No FDs with same LHS → no change
**Step 2:** Decompose `A → BC` → `A → B`, `A → C`

* F = `{A → B, A → C, B → C, AB → C}`
* `AB → C` redundant → remove → F = `{A → B, A → C, B → C}`

**Step 3:** All RHS have single attributes → done
**Step 4:** Remove redundant: `A → C` can be derived via `A → B` and `B → C` → remove

✅ **Canonical Cover:** `{A → B, B → C}`

---

### **Example 2**

* F = `{A → BC, B → C, A → B, AB → C}`

**Step 1:** Combine FDs with same LHS → already combined
**Step 2:** Eliminate extraneous: `C` in `A → BC` is extraneous → remove → `A → B`
**Step 3 & 4:** No further decomposition/redundancy

✅ **Canonical Cover:** `{A → B, B → C}`

---

### **Example 3**

* F = `{A → BC, CD → E, B → D, E → A}`

* No LHS combination possible

* No extraneous attributes

* No redundant FDs

✅ **Canonical Cover:** `{A → BC, CD → E, B → D, E → A}`

---

## **4. Checking if F Canonically Covers G**

1. Compute **closures** of F and G.
2. For each FD in G, check if it can be **derived from F**.
3. For each FD in F, check if it can be **derived from G**.
4. If all dependencies are derivable and F is minimal → F canonically covers G.

**Example:**

* F = `{A → B, B → C}`

* G = `{A → BC}`

* Closure of F: `A+ = {A, B, C}`

* Closure of G: `A+ = {A, B, C}`

* F can derive G and G can derive F → ✅ F canonically covers G

---

## **5. Features of Canonical Cover**

* **Minimal:** Smallest set of FDs representing the same constraints
* **Lossless:** Preserves all original FDs
* **Deterministic:** No extraneous or redundant FDs
* **Reduces Data Redundancy:** Simplifies database design
* **Improves Query Performance:** Fewer joins/redundancies
* **Facilitates Maintenance:** Easier to update or modify
