# Day 9 – Keys & Constraints

## **1. Introduction to Keys in DBMS**

In a **relational database**, **keys** are essential components that help:

* **Identify tuples (rows) uniquely**
* **Maintain data integrity**
* **Enable efficient data access**
* **Set up relationships** between tables

Without keys, managing data would be difficult and queries inefficient.

* What:
    * A key is an attribute—or set of attributes—that helps identify tuples (rows) in a relation (table) uniquely.

* Why:

  * Ensures uniqueness of records.

  * Maintains data integrity and prevents duplicates.

  * Enables efficient retrieval and forms the basis for relationships between tables.

* How:
  * Pick attributes (single or combined) that uniquely identify each row. Enforce uniqueness with constraints (PRIMARY KEY, UNIQUE) and connect tables using FOREIGN KEY.
---

## **2. Why Keys are Required in a DBMS**

Keys play a crucial role because they:

1. **Ensure Uniqueness:**

   * Each record in a table is distinct.

2. **Maintain Data Integrity:**

   * Prevent duplicate or inconsistent data.

3. **Enable Efficient Data Retrieval:**

   * Keys create relationships between tables, allowing faster querying and better organization.

---

## **3. Types of Keys in DBMS**

![](https://media.geeksforgeeks.org/wp-content/uploads/20230314093236/keys-in-dbms.jpg)

### **3.1 Super Key**

* **Definition:** A **super key** is a set of one or more attributes that can **uniquely identify a tuple**.
* **Extra attributes are allowed** even if they are unnecessary for uniqueness.
* **Supports NULL values** in rows.

**Example:** STUDENT Table

| STUD_NO | SNAME  | ADDRESS | PHONE     |
| ------- | ------ | ------- | --------- |
| 1       | Shyam  | Delhi   | 123456789 |
| 2       | Rakesh | Kolkata | 223365796 |
| 3       | Suraj  | Delhi   | 175468965 |

* A super key could be `{STUD_NO, PHONE}` because this combination uniquely identifies each student, though `STUD_NO` alone is enough.

---

### **3.2 Candidate Key**

* **Definition:** The **minimal set of attributes** that can uniquely identify a tuple.
* A **candidate key is a minimal super key**, meaning it has **no extra attributes**.
* **Properties:**

  * Must be unique
  * Cannot have NULL values
  * A table can have multiple candidate keys, but each can serve as a **potential primary key**

**Example:**

**STUDENT Table:** Candidate key → `STUD_NO`

**STUDENT_COURSE Table:** Composite candidate key → `{STUD_NO, COURSE_NO}`

---

### **3.3 Primary Key**

* **Definition:** Out of all candidate keys, **one is chosen as the primary key**.
* **Properties:**

  * Unique for each tuple
  * Cannot be NULL
  * Can be **composite** (multiple columns together)
* **Usage:** Databases often store rows **ordered by primary key** for fast access.

**Example:**

| STUD_NO | SNAME  | ADDRESS | PHONE     |
| ------- | ------ | ------- | --------- |
| 1       | Shyam  | Delhi   | 123456789 |
| 2       | Rakesh | Kolkata | 223365796 |
| 3       | Suraj  | Delhi   | 175468965 |

* Primary key → `STUD_NO`

---

### **3.4 Alternate Key**

![](https://media.geeksforgeeks.org/wp-content/uploads/20230314093606/Primary-key-alternative-key-in-dbms.png)

* **Definition:** Any **candidate key that is not chosen as the primary key**.
* Also called a **secondary key**.
* Can still **uniquely identify records**.

**Example:**

* STUDENT Table → Candidate keys: `STUD_NO` (primary), `PHONE` (alternate)

---

### **3.5 Foreign Key**

![](https://media.geeksforgeeks.org/wp-content/uploads/20230314173852/Foreign-keys.png)

* **Definition:** An attribute in one table that **references the primary key in another table**.
* The table with the foreign key is the **referencing table**.
* The table being referenced is the **referenced table**.
* **Properties:**

  * Can be NULL
  * Can have duplicate values

**Example:**

**STUDENT_COURSE Table:**

| STUD_NO | TEACHER_NO | COURSE_NO |
| ------- | ---------- | --------- |
| 1       | 005        | C001      |
| 2       | 056        | C005      |

* `STUD_NO` here is a **foreign key** referencing `STUD_NO` in STUDENT.

---

### **3.6 Composite Key**

![](https://media.geeksforgeeks.org/wp-content/uploads/20230314174012/Different-types-of-keys.png)

* **Definition:** When a single column cannot uniquely identify rows, a **combination of two or more attributes** is used.
* Can act as a **primary key** if no single-column primary key exists.

**Example:**
**STUDENT_COURSE Table:** `{STUD_NO, COURSE_NO}` forms a **composite key** to uniquely identify each record.

---

## **4. Summary of Key Relationships**

| Key Type          | Description                                                       | Example                     |
| ----------------- | ----------------------------------------------------------------- | --------------------------- |
| **Super Key**     | Can uniquely identify a tuple, may have extra attributes          | `{STUD_NO, PHONE}`          |
| **Candidate Key** | Minimal super key, uniquely identifies tuple, no extra attributes | `STUD_NO`                   |
| **Primary Key**   | Chosen candidate key, unique & NOT NULL                           | `STUD_NO`                   |
| **Alternate Key** | Candidate key not chosen as primary                               | `PHONE`                     |
| **Foreign Key**   | References primary key in another table                           | `STUD_NO` in STUDENT_COURSE |
| **Composite Key** | Combination of attributes to uniquely identify a tuple            | `{STUD_NO, COURSE_NO}`      |

---

### **5. Why These Keys Matter**

* **Maintain data integrity** (no duplicates, consistent data)
* **Establish relationships** between tables
* **Enable faster queries and indexing**
* **Avoid anomalies** like insertion, update, or deletion errors

---
### **6. MCQs — Keys & Constraints**
Answers are at the end.

**Q1.** Which of the following is a **minimal** super key?
A. Super key
B. Candidate key
C. Composite key
D. Alternate key

**Q2.** Which constraint guarantees that a column value will always be present (not NULL)?
A. UNIQUE
B. NOT NULL
C. FOREIGN KEY
D. CHECK

**Q3.** A **foreign key** in table `A` references table `B`. What happens with `ON DELETE CASCADE`?
A. Deletion from A deletes from B
B. Deletion from B deletes matching rows in A
C. It prevents deletion in B
D. Sets FK in A to NULL

**Q4.** Which key uniquely identifies a row and cannot be NULL?
A. Super Key
B. Candidate Key
C. Primary Key
D. Foreign Key

**Q5.** If `STUDENT_COURSE` has `{STUD_NO, COURSE_NO}` as its primary key, this key is an example of:
A. Alternate Key
B. Composite Key
C. Foreign Key
D. Super Key

**Q6.** Which constraint would you use to ensure `salary >= 0`?
A. NOT NULL
B. UNIQUE
C. CHECK
D. DEFAULT

**Q7.** Which of the following statements is TRUE?
A. A table can have multiple primary keys.
B. A primary key can contain NULL values.
C. A table can have multiple candidate keys.
D. A foreign key must be unique.

**Q8.** Referential integrity prohibits:
A. Duplicate primary keys
B. Null values in primary key
C. A child row referring to a non-existent parent row
D. Using composite keys

**Q9.** What is the minimum number of tables required for a many-to-many relationship between Student and Course?
A. 1
B. 2
C. 3
D. 4

**Q10.** Which SQL clause enforces uniqueness on a column other than the primary key?
A. UNIQUE
B. CHECK
C. INDEX
D. DEFAULT

---

### Answers

1. B — Candidate key
2. B — NOT NULL
3. B — Deletion from B deletes matching rows in A
4. C — Primary Key
5. B — Composite Key
6. C — CHECK
7. C — A table can have multiple candidate keys.
8. C — A child row referring to a non-existent parent row
9. C — 3 (Student, Course, and join/enrollment table)
10. A — UNIQUE

---