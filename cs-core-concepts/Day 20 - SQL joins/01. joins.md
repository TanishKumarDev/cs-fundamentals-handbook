# **Day 20 - SQL Joins**

## SQL Joins (Inner, Left, Right and Full Join)

### **1. Purpose**

Joins are used to fetch related data from two or more tables in a relational database based on a related column (often a primary/foreign key).

* Helps avoid data duplication (normalization).
* Retrieves meaningful information across tables.

---

### **2. Types of Joins**

| Join Type        | Description                                                                                   |
| ---------------- | --------------------------------------------------------------------------------------------- |
| **INNER JOIN**   | Returns only rows with matching values in both tables.                                        |
| **LEFT JOIN**    | Returns all rows from the left table + matching rows from the right table (NULL if no match). |
| **RIGHT JOIN**   | Returns all rows from the right table + matching rows from the left table (NULL if no match). |
| **FULL JOIN**    | Returns all rows from both tables, NULL where no match.                                       |
| **NATURAL JOIN** | Joins tables automatically on columns with the same name and type (INNER JOIN).               |

---

### **3. Sample Tables**

**Student Table**

| ROLL_NO | NAME    | ADDRESS  | PHONE      | AGE |
| ------- | ------- | -------- | ---------- | --- |
| 1       | HARSH   | DELHI    | XXXXXXXXXX | 18  |
| 2       | PRATIK  | BIHAR    | XXXXXXXXXX | 19  |
| 3       | RIYANKA | SILIGURI | XXXXXXXXXX | 20  |
| 4       | DEEP    | RAMNAGAR | XXXXXXXXXX | 18  |

**StudentCourse Table**

| COURSE_ID | ROLL_NO |
| --------- | ------- |
| 1         | 1       |
| 2         | 2       |
| 2         | 3       |
| 3         | 4       |

---

### **4. Join Examples**

#### **a) INNER JOIN**

```sql
SELECT StudentCourse.COURSE_ID, Student.NAME, Student.AGE
FROM Student
INNER JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;
```

**Output:**

| COURSE_ID | NAME    | AGE |
| --------- | ------- | --- |
| 1         | HARSH   | 18  |
| 2         | PRATIK  | 19  |
| 2         | RIYANKA | 20  |
| 3         | DEEP    | 18  |

---

#### **b) LEFT JOIN**

```sql
SELECT Student.NAME, StudentCourse.COURSE_ID
FROM Student
LEFT JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;
```

* Returns all students, even if they are **not enrolled** in any course (NULL for COURSE_ID).

---

#### **c) RIGHT JOIN**

```sql
SELECT Student.NAME, StudentCourse.COURSE_ID
FROM Student
RIGHT JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;
```

* Returns all courses, even if no matching student exists (NULL for NAME).

---

#### **d) FULL JOIN**

```sql
SELECT Student.NAME, StudentCourse.COURSE_ID
FROM Student
FULL JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;
```

* Combines LEFT + RIGHT JOIN, includes all rows from both tables with NULLs for non-matches.

---

#### **e) NATURAL JOIN**

```sql
SELECT *
FROM Student
NATURAL JOIN StudentCourse;
```

* Automatically joins tables on columns with the same name (ROLL_NO here).

---

### **5. Practice File Structure**

**File:** `day20_sql_joins.sql`

```sql
-- 1. Create Tables
CREATE TABLE Student (
    ROLL_NO INT PRIMARY KEY,
    NAME VARCHAR(50),
    ADDRESS VARCHAR(50),
    PHONE VARCHAR(15),
    AGE INT
);

CREATE TABLE StudentCourse (
    COURSE_ID INT,
    ROLL_NO INT
);

-- 2. Insert Data
INSERT INTO Student VALUES (1,'HARSH','DELHI','XXXXXXXXXX',18);
INSERT INTO Student VALUES (2,'PRATIK','BIHAR','XXXXXXXXXX',19);
INSERT INTO Student VALUES (3,'RIYANKA','SILIGURI','XXXXXXXXXX',20);
INSERT INTO Student VALUES (4,'DEEP','RAMNAGAR','XXXXXXXXXX',18);

INSERT INTO StudentCourse VALUES (1,1);
INSERT INTO StudentCourse VALUES (2,2);
INSERT INTO StudentCourse VALUES (2,3);
INSERT INTO StudentCourse VALUES (3,4);

-- 3. Queries
-- INNER JOIN
SELECT StudentCourse.COURSE_ID, Student.NAME, Student.AGE
FROM Student
INNER JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;

-- LEFT JOIN
SELECT Student.NAME, StudentCourse.COURSE_ID
FROM Student
LEFT JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;

-- RIGHT JOIN
SELECT Student.NAME, StudentCourse.COURSE_ID
FROM Student
RIGHT JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;

-- FULL JOIN
SELECT Student.NAME, StudentCourse.COURSE_ID
FROM Student
FULL JOIN StudentCourse
ON Student.ROLL_NO = StudentCourse.ROLL_NO;

-- NATURAL JOIN
SELECT *
FROM Student
NATURAL JOIN StudentCourse;
```