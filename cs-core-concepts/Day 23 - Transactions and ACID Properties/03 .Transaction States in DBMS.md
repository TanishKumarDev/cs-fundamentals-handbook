# **Day 23 – Transactions and ACID Properties**

## **Article 3: Transaction States in DBMS**

![](https://media.geeksforgeeks.org/wp-content/uploads/20250110115126815855/transition_states_in_dbms.webp)

### **1. Overview**

Transaction states represent the **different stages** a transaction goes through during its lifecycle in a database system.
They help track the **progress and final outcome** of a transaction to ensure **data consistency, recovery, and integrity**.

A transaction transitions through several states — starting from **Active** to **Terminated** — depending on its success or failure during execution.

---

### **2. Types of Transaction States**

| **State**               | **Description**                                                                                                                                       | **Outcome/Next Step**                                                             |
| ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- |
| **Active**              | Transaction starts execution; performing operations like read, write, insert, delete, or update. Data changes are only in memory (not yet permanent). | May go to *Partially Committed* (if successful) or *Failed* (if an error occurs). |
| **Partially Committed** | All operations are completed successfully but not yet saved to the database.                                                                          | Moves to *Committed* if saved successfully, or *Failed* if any issue occurs.      |
| **Committed**           | All changes are saved permanently in the database. Transaction is successful.                                                                         | Transitions to *Terminated*.                                                      |
| **Failed**              | An error occurs during execution or commit (like system crash, constraint violation). Execution halts immediately.                                    | Database recovery system triggers rollback → moves to *Aborted*.                  |
| **Aborted**             | The transaction is rolled back; database is restored to a consistent state.                                                                           | System either terminates it or restarts it from *Active* after recovery.          |
| **Terminated**          | Final state — transaction has either been committed successfully or aborted. No further actions are performed.                                        | None (end of lifecycle).                                                          |

---

### **3. Detailed Explanation of Each State**

#### **1. Active State**

* The transaction begins execution and performs operations like **read, write, insert, update, delete**.
* Data changes are made in memory buffers, **not yet committed** to the database.
* Database may be **inconsistent** temporarily.

**Example:**
Reading and checking Account A’s balance = ₹1000 before transferring ₹500.

---

#### **2. Partially Committed State**

* All operations have been executed successfully, but **changes are still in main memory**.
* Transaction waits for confirmation before making data permanent.
* Failure here moves transaction to *Failed State*.

**Example:**
Deducting ₹500 from Account A and adding to Account B, but not yet committed to the database.

---

#### **3. Committed State**

* The **commit operation** is successfully executed, and all changes are now permanent in the database.
* Database is now in a **consistent state** after successful execution.

**Example:**
Account A balance = ₹500, Account B balance = ₹1500 after commit.

---

#### **4. Failed State**

* Any issue (like constraint violation, system crash, or power failure) during **Active** or **Partially Committed** states leads here.
* Further execution stops, and the system starts recovery to maintain consistency.

**Example:**
System crash after deducting ₹500 from Account A but before adding it to Account B.

---

#### **5. Aborted State**

* Recovery process restores the database to its **previous consistent state**.
* DBMS can either:

  * **Kill the transaction:** End its execution permanently.
  * **Restart the transaction:** Retry execution from the beginning.

**Example:**
Rollback restores Account A’s balance back to ₹1000 and cancels the transfer.

---

#### **6. Terminated State**

* Represents the **end of a transaction’s lifecycle** — either committed or aborted.
* Once here, **no further actions** are taken, ensuring database stability.

---

### **4. Example: Bank Transfer**

| **Step** | **Transaction Phase**   | **Description**                                       |
| -------- | ----------------------- | ----------------------------------------------------- |
| 1        | **Active**              | Reads Account A balance ₹1000.                        |
| 2        | **Partially Committed** | Deducts ₹500 from A and adds to B (temporary memory). |
| 3        | **Committed**           | Updates are written permanently to disk.              |
| 4        | **Failed**              | (If crash occurs) transaction cannot complete.        |
| 5        | **Aborted**             | Database restored — A back to ₹1000, B unchanged.     |
| 6        | **Terminated**          | Transaction ends — either committed or aborted.       |

---

### **5. Summary**

* Transaction states define the **lifecycle** from start to completion.
* **Recovery mechanisms** ensure data safety even if failure occurs midway.
* DBMS ensures that at any point, a transaction is either **successfully completed (committed)** or **rolled back (aborted)**.
* This lifecycle is crucial for maintaining **ACID properties** — especially **Atomicity** and **Consistency**.

